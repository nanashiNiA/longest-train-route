# longest-train-rout(最長片道きっぷの旅)

## 概要
鉄道路線網において、最も長い片道きっぷの経路を求めるプログラムです。  
株式会社ドリーム・アーツ 2027年新卒エンジニア採用コーディングテストの解答として作成されました。

## 問題の詳細
- 駅を点、路線を線としてモデル化された鉄道路線網
- 同じ点を2回通ることはできない（シンプルパス）
- 始点と終点はすべての点の中から自由に選択可能
- 最も長い距離を片道きっぷで旅することができる経路を探索

## アルゴリズム
本実装では以下のアプローチを採用しています：
1. **深さ優先探索（DFS）+ バックトラッキング**
2. **全頂点からの探索**: すべての頂点を始点として最長パスを探索
3. **訪問済み頂点の管理**: 同じ頂点を2回訪問しないよう制御

計算量: O(V!) (最悪ケース、Vは頂点数)

## 実行方法

### 必要な環境
- Python 3.8以上
- 標準ライブラリのみ使用（外部依存なし）

### インストール・実行
```bash
# リポジトリのクローン
git clone <repository-url>
cd longest-train-route

# 実行（標準入力から読み込み）
python src/main.py

# ファイルからの入力
python src/main.py < tests/sample_inputs/example1.txt

# テストの実行
python -m pytest tests/ -v
```

## 入力フォーマット
```
始点の ID(正の整数値), 終点の ID(正の整数値), 距離(浮動小数点数)\r\n
```

### 入力例
```
1, 2, 8.54
2, 3, 3.11
3, 1, 2.19
3, 4, 4
4, 1, 1.4
```

## 出力フォーマット
最長経路となる点のIDを順番に改行コード(\r\n)で区切って出力

### 出力例
```
2
3
4
1
```

## プロジェクト構造
```
longest-train-route/
├── README.md              # このファイル
├── requirements.txt       # 依存関係（空）
├── src/
│   ├── main.py           # メインエントリーポイント
│   ├── graph.py          # グラフデータ構造
│   └── solver.py         # 最長パス探索アルゴリズム
├── tests/
│   ├── test_solver.py    # ユニットテスト
│   └── sample_inputs/    # テスト用入力ファイル
└── docs/
    └── algorithm_explanation.md  # アルゴリズム詳細説明
```

## 設計の特徴
- **モジュール分割**: グラフ表現、アルゴリズム、入出力処理を分離
- **テスタビリティ**: ユニットテストによる品質保証
- **拡張性**: 異なるアルゴリズムへの切り替えが容易
- **エラーハンドリング**: 不正な入力に対する適切な処理

## 性能上の考慮事項
- 小〜中規模のグラフ（頂点数 < 20）に最適化
- 大規模グラフの場合は近似アルゴリズムの採用を推奨
- メモ化による最適化を実装済み

## テストケース
- 基本的な線形グラフ
- 環状グラフ
- 完全グラフ
- 単一頂点グラフ
- エッジケース（空入力、不正フォーマット）

## 作成者
由井　拓翔

## ライセンス
MIT License
